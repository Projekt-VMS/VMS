<div class="sidenav">
    <h5>Veranstalter</h5>
    <a href='#!/profile-host' class="currentPage"><i class="fa fa-fw fa-user" id="userIcon"></i><p>{{veranstalter.vorname + ' ' + veranstalter.name}}<br><c>{{veranstalter.email}}</c></p></a>
    <hr>
    <br>
    <a href='#!/request-host'><i class="fa fa-fw fa-plus"></i> Anfrage erstellen</a>
    <br>
    <a href='#!/event-overview-host'><e><i class="fa fa-fw fa-calendar"></i> Meine Veranstaltungen</e></a>
    <br>
    <a href='#!/email-host'><i class="fa fa-fw fa-envelope"></i> E-Mail</a>
</div>

<div class="filter">
    <label>Status:</label>
    <input type="checkbox" data-ng-model="state1" >Angebot offen
    <input type="checkbox" data-ng-model="state2">Angebot akzeptiert
    <input type="checkbox" data-ng-model="state3">in Abrechnnung
</div>
<div data-ng-hide="veranstaltungen.length === 0">
<table id="tableVA" data-ng-hide="(veranstaltungen | filter: emailVeranstalter :true).length === 0">
    <tr>
        <th>Titel</th>
        <th>Raum</th>
        <th>Von</th>
        <th>Bis</th>
        <th><i class="fa fa fa-fw fa-user"></i></th>
        <th>V-Preis*</th>
        <th>T-Preis*</th>
        <th>Art</th>
        <th>Status</th>
        <th>Zusatzleistungen</th>
        <th>Stornieren</th>
    </tr>
    <tr data-ng-repeat="veranstaltung in veranstaltungen | filter: emailVeranstalter :true | orderBy : 'titel'" data-ng-if="veranstaltung.angebotsstatus === 'Angebot offen' && state1">
        <td>{{veranstaltung.titel}}</td>
        <td>{{veranstaltung.raum}}</td>
        <td>{{veranstaltung.start_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.end_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.teilnehmerzahl}}</td>
        <td>{{veranstaltung.veranstalter_preis}}€</td>
        <td>{{veranstaltung.teilnehmer_preis}}€</td>
        <td>{{veranstaltung.sichtbarkeit}}</td>
        <td>{{veranstaltung.angebotsstatus}}</td>
        <td>{{veranstaltung.leistung}}</td>
        <td><button data-ng-click="storniereVeranstaltung(veranstaltung._id)"><i class="fa fa-fw fa-close"></i></button></td>
    </tr>
    <tr data-ng-repeat="veranstaltung in veranstaltungen | filter: emailVeranstalter :true | orderBy : 'titel'" data-ng-if="veranstaltung.angebotsstatus === 'Angebot akzeptiert' && state2">
        <td>{{veranstaltung.titel}}</td>
        <td>{{veranstaltung.raum}}</td>
        <td>{{veranstaltung.start_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.end_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.teilnehmerzahl}}</td>
        <td>{{veranstaltung.veranstalter_preis}}€</td>
        <td>{{veranstaltung.teilnehmer_preis}}€</td>
        <td>{{veranstaltung.sichtbarkeit}}</td>
        <td>{{veranstaltung.angebotsstatus}}</td>
        <td>{{veranstaltung.leistung}}</td>
        <td><button data-ng-click="storniereVeranstaltung(veranstaltung._id)"><i class="fa fa-fw fa-close"></i></button></td>
    </tr>
    <tr data-ng-repeat="veranstaltung in veranstaltungen | filter: emailVeranstalter :true | orderBy : 'titel'" data-ng-if="veranstaltung.angebotsstatus === 'in Abrechnung' && state3">
        <td>{{veranstaltung.titel}}</td>
        <td>{{veranstaltung.raum}}</td>
        <td>{{veranstaltung.start_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.end_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.teilnehmerzahl}}</td>
        <td>{{veranstaltung.veranstalter_preis}}€</td>
        <td>{{veranstaltung.teilnehmer_preis}}€</td>
        <td>{{veranstaltung.sichtbarkeit}}</td>
        <td>{{veranstaltung.angebotsstatus}}</td>
        <td>{{veranstaltung.leistung}}</td>
        <td><button data-ng-click="storniereVeranstaltung(veranstaltung._id)"><i class="fa fa-fw fa-close"></i></button></td>
    </tr>
    <tr data-ng-repeat="veranstaltung in veranstaltungen | filter: emailVeranstalter :true | orderBy : 'angebotsstatus'" data-ng-if="!state1 && !state2 && !state3">
        <td>{{veranstaltung.titel}}</td>
        <td>{{veranstaltung.raum}}</td>
        <td>{{veranstaltung.start_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.end_datum | date : "dd.MM.y" : "+0100"}}</td>
        <td>{{veranstaltung.teilnehmerzahl}}</td>
        <td>{{veranstaltung.veranstalter_preis}}€</td>
        <td>{{veranstaltung.teilnehmer_preis}}€</td>
        <td>{{veranstaltung.sichtbarkeit}}</td>
        <td>{{veranstaltung.angebotsstatus}}</td>
        <td>{{veranstaltung.leistung}}</td>
        <td><button data-ng-click="storniereVeranstaltung(veranstaltung._id)"><i class="fa fa-fw fa-close"></i></button></td>
    </tr>
</table>
    <div id="priceText">
        <small>* V-Preis = Veranstalterpreis, T-Preis = Teilnehmerpreis</small>
    </div>
</div>
<div id="noEvent" data-ng-if="(veranstaltungen | filter: emailVeranstalter :true).length === 0">
    <p>Du hast aktuell noch keine eigenen Veranstaltungen. <br><br> <a href="#!/request-host"><button class="loginButton"><g>Anfrage erstellen</g></button></a></p>
</div>
